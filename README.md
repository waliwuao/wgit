# wgit功能设计

- wgit包含的命令：init、add、commit、sync、branch、undo、config

  - init命令创建git flow工作流。创建main分支和开发分支，并将main分支设置为主分支，进行一次空白提交，避免出现，幽灵分支的情况，并静止在main分支和开发分支里进行提交报错
  - add命令进入交互模式，展示所有没有被ignore且被修改了的文件，上下方向上下方向键调节选项，空格选中，回车确定，a全选
  - commit命令会先生成一个选择，要求用户先选择提交的类型（feat等），然后再生成一个表单，上下键调节填写的选项，回车换行，ctrl+回车提交。由config决定是否允许本地合并还是提交到远程的仓库等待review
  - sync会智能同步当前分支的信息，是pull和push的集合，会规范的实现同步，但是运行的前提是填写了config中远程仓库的url（没填则提示报错）,如果填写了多个url,则按名字选择
  - branch是分支操作的集合，包含switch分支切换、delete删除分支（不能删除主分支和开发分支）、start创建新的功能分支（也用选择加填空的形式引导用户规范的命名分支）和finish合并当前分支到开发分支（如果是release分支则合并到main分支），如果是release分支，合并时还要用填选的形式引导用户正确规范的打tag
  - undo可以让用户按照commit回退或者是按照操作回退，可以选择回退的方式soft...hard
  - config命令可以一个选择界面可以选择添加远程仓库并命名，还可以选择是否允许本地合并到开发或main分支

为了辅助用户学习，每次使用git命令都要打印git命令，并用不同颜色标注，git的输出要正常显示
wgit,使用rust进行开发，文件结构要严谨、可读性和可维护性要高。请你给出wgit的文件结构，然后给出每一份文件的完整代码，不要省略和注释
